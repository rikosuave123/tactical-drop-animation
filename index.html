<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crate Drop Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tweenjs/tween.js@18.6.4/dist/tween.umd.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <script>
        // Set up scene
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Load crate with parachute texture
        const loader = new THREE.TextureLoader();
        const crateTexture = loader.load('https://raw.githubusercontent.com/rikosuave123/tactical-drop-animation/refs/heads/main/military_parachute_transparent__1_-removebg-preview.png');

        // Create crate with parachute as one object
        const crateGeometry = new THREE.PlaneGeometry(5, 5);
        const crateMaterial = new THREE.MeshBasicMaterial({ map: crateTexture, transparent: true });
        const crate = new THREE.Mesh(crateGeometry, crateMaterial);
        crate.position.set(0, 10, 0);
        scene.add(crate);

        // Position camera
        camera.position.z = 10;

        // Animate the drop
        function animateDrop() {
            const tween = new TWEEN.Tween(crate.position)
                .to({ y: 0 }, 3000)
                .easing(TWEEN.Easing.Bounce.Out)
                .onComplete(() => playSound())
                .start();
        }

        // Play soft thud sound
        function playSound() {
            const audio = new Audio('https://www.soundjay.com/button/sounds/button-3.mp3'); // Replace with your sound
            audio.play();
        }

        // Render loop
        function animate() {
            requestAnimationFrame(animate);
            TWEEN.update();
            renderer.render(scene, camera);
        }

        animate();
        animateDrop();
    </script>
</body>
</html>
